# Микросервис для свайпов

Этот микросервис предназначен для обработки свайпов (лайков/дизлайков) в приложении типа Tinder.

## Функциональность

1. Регистрация свайпов (лайк/дизлайк)
2. Определение взаимных лайков (матчей)
3. Получение списка матчей для пользователя

## Запуск с помощью Docker

```bash
docker-compose up -d
```

Это запустит микросервис на порту 8080 и базу данных PostgreSQL.

## API

### Свайп (лайк/дизлайк)

```
POST /api/swipe
```

Тело запроса:
```json
{
  "user_id": "user_123",
  "target_id": "user_456",
  "decision": true
}
```

Ответ:
```json
{
  "success": true,
  "data": {
    "is_match": true,
    "user_id": "user_456"
  }
}
```

### Получение списка матчей

```
GET /api/matches?user_id=user_123
```

Ответ:
```json
{
  "success": true,
  "data": {
    "matches": ["user_456", "user_789"]
  }
}
```

## Структура базы данных

Таблица `swipes`:
- `user_id1` - ID первого пользователя
- `user_id2` - ID второго пользователя
- `decision1` - Решение первого пользователя (true - лайк, false - дизлайк, null - не определено)
- `decision2` - Решение второго пользователя (true - лайк, false - дизлайк, null - не определено)

## Логика работы

1. При свайпе создается запись в БД или обновляется существующая
2. Если оба пользователя поставили лайк друг другу, это считается матчем
3. Микросервис возвращает информацию о том, произошел ли матч 